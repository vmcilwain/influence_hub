<header class="header-container">
  <h1 class="header"><%= @campaign.name %></h1>
  <div class="actions">
    <%= link_to :Campaigns, campaigns_path %> | 
    <%= link_to :Edit, edit_campaign_path(@campaign) %>
    <%= button_to :Delete, @campaign, method: :delete, data: { turbo_confirm: t('form.confirmation') } %>
  </div>
</header>

<main class="content-wrapper">
  <p style="color: green"><%= notice %></p>
  <section>
    <header class="subheader-container">
      <h2 class="subheader">Details</h2>
    </header>

    <div class="content-row">
      <div class="data-section">
        <div class="label">Rate</div>
        <div class="value">
          <%= number_to_currency(@campaign.rate) %>
        </div>
      </div>

      <div class="data-section">
        <div class="label">Status</div>
        <div class="value">
          <%= @campaign.status.titleize %>
        </div>
      </div>
    </div>

    <div class="content-row">
      <div class="data-section">
        <div class="label">Description</div>
        <div class="value">
          <%= @campaign.description %>
        </div>
      </div>
    </div>
  </section>

  <section>
    <header class="subheader-container">
      <h2 class="subheader">Tasks</h2>
      <div class="actions">
        <%= link_to :New, new_campaign_task_path(@campaign), data: { turbo_frame: "task-edit-modal" } %>
      </div>
    </header>

    <div class="kanban-container" data-controller="kanban">
      <%= render "tasks/kanban_column", 
          title: "Abandoned",
          status: "abandoned",
          tasks: @tasks,
          campaign: @campaign %>

      <%= render "tasks/kanban_column",
          title: "To Do",
          status: "not_started",
          tasks: @tasks,
          campaign: @campaign %>

      <%= render "tasks/kanban_column",
          title: "In Progress",
          status: "in_progress",
          tasks: @tasks,
          campaign: @campaign %>

      <%= render "tasks/kanban_column",
          title: "Done",
          status: "complete",
          tasks: @tasks,
          campaign: @campaign %>
    </div>
  </section>
</main>

<%= turbo_frame_tag "task-edit-modal" %>
